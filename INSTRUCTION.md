# Інструкції з перевірки розгортання додатку

Ці інструкції допоможуть переконатися, що додаток розгорнуто правильно в Kubernetes.

## 1. Перевірка, чи запущено додаток

1.  **Перевірте статус Pods:**

    Виконайте наступну команду, щоб перевірити, чи всі Pods знаходяться у стані `Running`:

    ```
    kubectl get pods
    ```

    Переконайтеся, що стовпець `STATUS` для всіх Pods показує `Running` і стовпець `READY` показує `1/1` (або `2/2` якщо у вас більше одного контейнера в Pod).
2.  **Перевірте Deployment:**

    Переконайтеся, що Deployment має правильну кількість доступних реплік:

    ```
    kubectl get deployment task-app
    ```

    Стовпці `READY` та `UP-TO-DATE` повинні відповідати кількості вказаних реплік.
3.  **Перевірте доступність додатку:**

    *   **Якщо використовуєте Service NodePort:**
        *   Знайдіть NodePort Service:
            ```
            kubectl get service task-app
            ```
        *   Знайдіть `PORT(S)` (наприклад, `80:30000/TCP`). Це означає, що порт 80 контейнера відображається на порт 30000 вузла.
        *   Відкрийте браузер і перейдіть за адресою `http://<IP вузла>:<NodePort>`.
    *   **Якщо використовуєте Service LoadBalancer:**
        *   Знайдіть LoadBalancer Service:
            ```
            kubectl get service task-app
            ```
        *   Знайдіть `EXTERNAL-IP`. Це IP-адреса, надана LoadBalancer.
        *   Відкрийте браузер і перейдіть за адресою `http://<EXTERNAL-IP>`.
    *   **Якщо використовуєте Port Forwarding (для тестування):**
        *   Виконайте команду:
            ```
            kubectl port-forward deployment/task-app 8080:80
            ```
        *   Відкрийте браузер і перейдіть за адресою `http://localhost:8080`.
    *   **Перевірте, що додаток відповідає:**

        Переконайтеся, що додаток відображає правильну інформацію і працює коректно.

## 2. Перевірка, чи ConfigMap змонтований як файли у правильному порядку

1.  **Зайдіть в контейнер:**

    Знайдіть ім'я Pod:

    ```
    kubectl get pods
    ```

    Зайдіть в контейнер:

    ```
    kubectl exec -it <ім'я-pod> -- /bin/bash
    ```
2.  **Перевірте директорію `/app/configs`:**

    Перейдіть в директорію:

    ```
    cd /app/configs
    ```

    Перелічіть вміст директорії:

    ```
    ls -l
    ```

    Ви повинні побачити файли, відповідні ключам ConfigMap. Наприклад, якщо у вас ConfigMap з ключами `setting1` і `setting2`, ви повинні побачити файли `setting1` і `setting2`.
3.  **Перевірте вміст файлів:**

    Перегляньте вміст файлів, щоб переконатися, що вони містять правильні значення з ConfigMap:

    ```
    cat setting1
    cat setting2
    ```

    Вміст файлів повинен відповідати значенням, які ви задали у ConfigMap.

## 3. Перевірка, чи Secret змонтований як файли

1.  **Зайдіть в контейнер:**

    Виконайте ті самі кроки, як і в пункті 2.1, щоб зайти в контейнер.
2.  **Перевірте директорію `/app/secrets`:**

    Перейдіть в директорію:

    ```
    cd /app/secrets
    ```

    Перелічіть вміст директорії:

    ```
    ls -l
    ```

    Ви повинні побачити файли, відповідні ключам Secret. Наприклад, якщо у вас Secret з ключами `username` і `password`, ви повинні побачити файли `username` і `password`.
3.  **Перевірте вміст файлів:**

    Перегляньте вміст файлів, щоб переконатися, що вони містять правильні значення з Secret:

    ```
    cat username
    cat password
    ```

    Вміст файлів повинен відповідати значенням, які ви задали у Secret.

**Застереження:**

*   Не зберігайте чутливу інформацію безпосередньо в ConfigMap, оскільки ConfigMap не шифруються. Використовуйте Secret для зберігання паролів, ключів API, і т.д.
*   Завжди перевіряйте права доступу до директорій і файлів, щоб запобігти несанкціонованому доступу.
